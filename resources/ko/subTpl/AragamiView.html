<!-- ko if: $index() > 0 && $root.aragamiFiltered()[$index() - 1].type !== type -->
<div class="w-100"></div>
<!-- /ko -->
<div class="col aragami-card-size p-1 text-white">
	<div class="card card-aragami" data-bind="class: typeClass">
		<div class="card-body p-1">
			<div class="row">
				<div class="col i-a-container mr-1">
					<i data-bind="class: imgClass">
						<h5 class="ml-1">
							<span class="badge badge-aragami-type" data-bind="text:type"></span>
						</h5>
					</i>
				</div>
				<div class="col">
					<table style="width: 184px;">
						<tr><th colspan="4">Element</th></tr>
						<tr>
							<th class="bg-blaze" data-bind="css: {'o-25': !element.blaze,'c-grayscale': !element.blaze}"><i class="attr blaze"></i></th>
							<th class="bg-freeze" data-bind="css: {'o-25': !element.freeze,'c-grayscale': !element.freeze}"><i class="attr freeze"></i></th>
							<th class="bg-spark" data-bind="css: {'o-25': !element.spark,'c-grayscale': !element.spark}"><i class="attr spark"></i></th>
							<th class="bg-divine" data-bind="css: {'o-25': !element.divine,'c-grayscale': !element.divine}"><i class="attr divine"></i></th>
						</tr>

						<tr><th colspan="4">Weak / Resist</th></tr>
						<tr>
							<th class="bg-blaze"><i class="attr blaze"></i></th>
							<th class="bg-freeze"><i class="attr freeze"></i></th>
							<th class="bg-spark"><i class="attr spark"></i></th>
							<th class="bg-divine"><i class="attr divine"></i></th>
						</tr>
						<tr>
							<td class="bg-blaze-half" data-bind="html:$root.def2icon(def.blaze)"></td>
							<td class="bg-freeze-half" data-bind="html:$root.def2icon(def.freeze)"></td>
							<td class="bg-spark-half" data-bind="html:$root.def2icon(def.spark)"></td>
							<td class="bg-divine-half" data-bind="html:$root.def2icon(def.divine)"></td>
						</tr>

						<tr><th colspan="4">Drops</th></tr>
						<tr>
							<td colspan="4"><h5 class="m-0" data-bind="foreach: drop_prefixes">
								<span class="badge badge-light" data-bind="text:$data"></span>
							</h5></td>
						</tr>
					</table>
				</div>
			</div>
		</div>
		<div class="card-body p-1 mt-1" data-bind="if: bonds.length > 0">
			<div class="row align-items-center">
				<!-- ko if: $root.options.aragami.compact() -->
				<h4 class="col-auto">Bonds</h4>
				<!-- ko foreach: bonds -->
				<!-- ko if: breakable -->
				<h5 class="col-auto p-1">
					<span class="badge badge-danger" data-bind="text: part"></span>
				</h5>
				<!-- /ko -->
				<!-- /ko -->
				<!-- /ko -->
			</div>
			<div data-bind="if: !$root.options.aragami.compact()">
				<table class="table-bond">
					<thead>
					<tr>
						<th rowspan="2">Part</th>
						<th rowspan="2"></th>
						<th colspan="2">Gun</th>
						<th colspan="3">Meele</th>
						<th colspan="4">Element</th>
					</tr>
					<tr>
						<th class="bg-physical" ><i class="attr crush d-block m-auto"></i></th>
						<th class="bg-physical" ><i class="attr pierce d-block m-auto"></i></th>
						<th class="bg-physical" ><i class="attr slash d-block m-auto"></i></th>
						<th class="bg-physical"><i class="attr crush d-block m-auto"></i></th>
						<th class="bg-physical"><i class="attr pierce d-block m-auto"></i></th>
						<th class="bg-blaze"><i class="attr blaze d-block m-auto"></i></th>
						<th class="bg-freeze"><i class="attr freeze d-block m-auto"></i></th>
						<th class="bg-spark"><i class="attr spark d-block m-auto"></i></th>
						<th class="bg-divine"><i class="attr divine d-block m-auto"></i></th>
					</tr>
					</thead>
					<!-- ko foreach: bonds -->
					<tbody>
					<tr>
						<th rowspan="2" class="" data-bind="class: breakable?'bg-danger':'bg-dark'">
							<b data-bind="text: part, attr:{rowspan:breakable?2:1}"></b>
						</th>
						<td><i class="attr bond d-block"></i></td>
						<td class="bg-physical-half" data-bind="html:$root.defPhysical(normal.crush_gun)"></td>
						<td class="bg-physical-half" data-bind="html:$root.defPhysical(normal.pierce_gun)"></td>
						<td class="bg-physical-half" data-bind="html:$root.defPhysical(normal.slash)"></td>
						<td class="bg-physical-half" data-bind="html:$root.defPhysical(normal.crush)"></td>
						<td class="bg-physical-half" data-bind="html:$root.defPhysical(normal.pierce)"></td>
						<td class="bg-blaze-half" data-bind="html:$root.def2icon(normal.blaze)"></td>
						<td class="bg-freeze-half" data-bind="html:$root.def2icon(normal.freeze)"></td>
						<td class="bg-spark-half" data-bind="html:$root.def2icon(normal.spark)"></td>
						<td class="bg-divine-half" data-bind="html:$root.def2icon(normal.divine)"></td>
					</tr>
					<tr data-bind="if: breakable">
						<td><i class="attr bond-b d-block"></i></td>
						<td class="bg-physical-half" data-bind="html:$root.defPhysical(broken.crush_gun)"></td>
						<td class="bg-physical-half" data-bind="html:$root.defPhysical(broken.pierce_gun)"></td>
						<td class="bg-physical-half" data-bind="html:$root.defPhysical(broken.slash)"></td>
						<td class="bg-physical-half" data-bind="html:$root.defPhysical(broken.crush)"></td>
						<td class="bg-physical-half" data-bind="html:$root.defPhysical(broken.pierce)"></td>
						<td class="bg-blaze-half" data-bind="html:$root.def2icon(broken.blaze)"></td>
						<td class="bg-freeze-half" data-bind="html:$root.def2icon(broken.freeze)"></td>
						<td class="bg-spark-half" data-bind="html:$root.def2icon(broken.spark)"></td>
						<td class="bg-divine-half" data-bind="html:$root.def2icon(broken.divine)"></td>
					</tr>
					</tbody>
					<!-- /ko -->
				</table>
			</div>
		</div>
	</div>
</div>